{"version":3,"sources":["webpack://v8/webpack/universalModuleDefinition","webpack://v8/webpack/bootstrap","webpack://v8/./src/Validator.ts","webpack://v8/./src/functions.ts","webpack://v8/./src/validators/Object.ts","webpack://v8/./src/validators/Number.ts","webpack://v8/./src/index.ts","webpack://v8/./src/validators/Any.ts","webpack://v8/./src/validators/Array.ts","webpack://v8/./src/validators/Boolean.ts","webpack://v8/./src/validators/Date.ts","webpack://v8/./src/validators/String.ts","webpack://v8/./src/custom/geo.ts","webpack://v8/./src/custom/express.ts"],"names":["root","factory","exports","module","define","amd","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","functions_1","Validator","check","parent","getMessage","comparator","getComparator","message","newInstance","constructor","next","isGetMessage","withComparator","reverseComparator","forward","a","b","validate","transform","transformer","done","fail","_a","apply","_b","sent","eval","required","defaults","parsed","parse","isValid","resolve","isEmpty","undefined","optional","is","oneOf","values","_this","findIndex","v","notOneOf","equals","compareTo","lessThan","lessThanEqual","max","greaterThan","greaterThanEqual","between","min","or","getMany","many","length","runAsTuple","pass","updatedValue","json","isString","JSON","e","nullify","remove","set","newValue","encode","encodeURI","encodeComponent","encodeURIComponent","decode","decodeURI","decodeComponent","decodeURIComponent","run","updated","result","nextValue","__awaiter","doneValue","failResult","runAsPromise","Promise","reject","__generator","x","trim","isFunction","trimIfString","isPlainObject","Array","isArray","toArray","Validator_1","obj","ValidatorObject","_super","__extends","prop","props","valid","validator","_c","_d","instanceOf","type","wrap","int","ValidatorNumber","withParser","parseInt","float","parseFloat","arguments","parser","isFinite","isPositive","isNegative","floor","Math","abs","neg","ceil","round","__export","any","ValidatorAny","arr","ValidatorArray","getTypeComparator","getTypeValidator","typeValidator","removeAndIgnoreInvalid","types","requireDivisibleAmount","slice","removing","push","splice","minLength","maxLength","every","some","reverse","filter","sort","sorter","map","mapper","unique","k","removeDuplicates","bool","ValidatorBoolean","truthy","falsy","test","withTruthy","withFalsy","date","ValidatorDate","Date","getTime","isWeekday","weekdays","indexOf","getDay","isDayOfMonth","dayOfMonths","getDate","isMonth","months","getMonth","endOfDay","setHours","startOfDay","endOfWeek","setDate","startOfWeek","endOfMonth","setMonth","startOfMonth","endOfYear","startOfYear","str","ValidatorString","localeCompare","insensitive","toLowerCase","exists","isLower","isUpper","toUpperCase","like","pattern","unlike","colorHex","allowHash","requireHash","colorShortHex","colorRGB","percent","colorRGBA","color","linkless","uuid","ipv4","ipv6","ip","isbn","phoneUS","zipUS","alphaNumeric","alpha","token","hex","base64","http","https","url","requireProtocol","email","creditCard","replace","replacement","truncate","substring","ltrim","rtrim","lower","upper","strip","normalizeEmail","PLUS_ONLY","PLUS_AND_DOT","normalizeableProviders","gmail.com","cut","googlemail.com","aliasOf","hotmail.com","live.com","outlook.com","emailParts","split","username","domain","Object_1","Number_1","geo","latitude","longitude","coordinates","getRouteHandler","source","onFailure","validators","request","response","failures"],"mappings":"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","file":"valid8or.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"v8\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"v8\"] = factory();\n\telse\n\t\troot[\"v8\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n","\nimport { Check, GetMessage, Comparator, Value, Next, Done, Fail, Tuple, ResultFor } from './types';\nimport { isGetMessage, resolve, isEmpty, isString } from './functions';\n\n\nexport abstract class Validator<T>\n{\n\n  public parent?: this;\n  public check: Check<T>;\n  public getMessage: GetMessage<T>;\n  public comparator: Comparator<T>;\n\n  public constructor (check: Check<T>, parent?: Validator<T>, getMessage?: GetMessage<T>)\n  {\n    this.check = check;\n    this.parent = parent as this;\n    this.comparator = this.getComparator.bind(this);\n    this.message(getMessage || 'invalid')\n  }\n\n  protected abstract getComparator (a: T, b: T): number;\n\n  protected abstract parse (value: any): any;\n\n  protected abstract isValid (parsed: any, value: any): parsed is T;\n\n  protected newInstance (): this\n  {\n    return new (<any>this.constructor)((value: T, next: Next<T>) => next(value));\n  }\n\n  public message (getMessage: GetMessage<T> | string): this\n  {\n    this.getMessage = isGetMessage<T>(getMessage) \n      ? getMessage \n      : ((() => getMessage) as unknown as GetMessage<T>);\n    return this;\n  }\n\n  public withComparator (comparator: Comparator<T>): this\n  {\n    this.comparator = comparator;\n    return this;\n  }\n\n  public reverseComparator (): this\n  {\n    const forward = this.comparator;\n    this.comparator = (a, b) => forward(b, a);\n    return this;\n  }\n\n  public validate (check: Check<T>): this\n  {\n    return new (<any>this.constructor)(check, this);\n  }\n\n  public transform<R, V extends Validator<R>> (transformer: (value: T) => R | Promise<R>): V\n  {\n    return this.validate(async function (this: V, value, next, done, fail) \n    {\n      return next(await transformer.call(this, value) as unknown as T)\n\n    }) as unknown as V;\n  }\n\n  public eval (required: Value<boolean>, defaults?: Value<T>): this\n  {\n    type V = this;\n\n    return this.validate(async function (this: V, value, next, done, fail) \n    {\n      const parsed = this.parse(value);\n\n      if (!this.isValid(parsed, value)) \n      {\n        if (resolve(required)) \n        {\n          if (isEmpty(value) && defaults !== undefined) \n          {\n            done(resolve(defaults));\n          } \n          else \n          {\n            fail(this.getMessage(value));\n          }\n        } \n        else \n        {\n          if (defaults !== undefined) \n          {\n            done(resolve(defaults));\n          } \n          else \n          {\n            done(value);\n          }\n        }\n      } \n      else \n      {\n        await next(parsed);\n      }\n    }).message('check');\n  }\n\n  public required (defaults?: Value<T>): this\n  {\n    return this.eval(true, defaults).message('required');\n  }\n\n  public optional (defaults?: Value<T>): this\n  {\n    return this.eval(false, defaults).message('optional');\n  }\n\n  public is (check: (value: T) => boolean | Promise<boolean>): this\n  {\n    type V = this;\n\n    return this.validate(async function (this: V, value, next, done, fail) \n    {\n      if (!(await check(value))) \n      {\n        fail(this.getMessage(value));\n      } \n      else \n      {\n        await next(value);\n      }\n    });\n  }\n\n  public oneOf (values: Value<T[]>): this\n  {\n    return this.is(value => resolve(values).findIndex(v => this.comparator(value, v) === 0) !== -1).message('oneOf');\n  }\n\n  public notOneOf (values: Value<T[]>): this\n  {\n    return this.is(value => resolve(values).findIndex(v => this.comparator(value, v) === 0) === -1).message('notOneOf');\n  }\n\n  public equals (compareTo: Value<T>): this\n  {\n    return this.is(value => this.comparator(value, resolve(compareTo)) === 0).message('equals');\n  }\n\n  public lessThan (compareTo: Value<T>): this\n  {\n    return this.is(value => this.comparator(value, resolve(compareTo)) < 0).message('lessThan');\n  }\n\n  public lessThanEqual (compareTo: Value<T>): this\n  {\n    return this.is(value => this.comparator(value, resolve(compareTo)) <= 0).message('lessThanEqual');\n  }\n\n  public max (compareTo: Value<T>): this\n  {\n    return this.is(value => this.comparator(value, resolve(compareTo)) <= 0).message('max');\n  }\n\n  public greaterThan (compareTo: Value<T>): this\n  {\n    return this.is(value => this.comparator(value, resolve(compareTo)) > 0).message('greaterThan');\n  }\n\n  public greaterThanEqual (compareTo: Value<T>): this\n  {\n    return this.is(value => this.comparator(value, resolve(compareTo)) >= 0).message('greaterThanEqual');\n  }\n\n  public between (min: Value<T>, max: Value<T>): this\n  {\n    return this.is(value => \n      this.comparator(value, resolve(min)) >= 0 && \n      this.comparator(value, resolve(max)) <= 0).message('between');\n  }\n\n  public min (compareTo: Value<T>): this\n  {\n    return this.is(value => this.comparator(value, resolve(compareTo)) >= 0).message('min');\n  }\n\n  public fail(): this\n  {\n    type V = this;\n\n    return this.validate(async function (this: V, value, next, done, fail) \n    {\n      fail(this.getMessage(value));\n    });\n  }\n\n  public or (getMany: (validator: this) => this[]): this\n  {\n    type V = this;\n\n    return this.validate(async function (this: V, value, next, done, fail) \n    {\n      const root = this.newInstance();\n      const many = getMany(root);\n\n      for (let i = 0; i < many.length; i++) \n      {\n        const [pass, updatedValue, failReason] = await many[i].runAsTuple(value);\n\n        if (pass && updatedValue !== undefined)\n        {\n          return await next(updatedValue);\n        }\n      }\n\n      fail(this.getMessage(value));\n    });\n  }\n\n  public json (): this\n  {\n    return this.transform(value => \n    {\n      if (isString(value)) \n      {\n        try {\n          value = JSON.parse(value);\n        } catch (e) {}\n      }\n\n      return value;\n    });\n  }\n\n  public nullify (): this\n  {\n    return this.transform(value => null);\n  }\n\n  public remove (): this\n  {\n    return this.transform(value => undefined);\n  }\n\n  public set (newValue: Value<T>): this\n  {\n    return this.transform(value => resolve(newValue));\n  }\n\n  public encode (): this\n  {\n    return this.transform(value => isString(value) ? encodeURI(value) : value);\n  }\n\n  public encodeComponent (): this\n  {\n    return this.transform(value => isString(value) ? encodeURIComponent(value) : value);\n  }\n\n  public decode (): this\n  {\n    return this.transform(value => isString(value) ? decodeURI(value) : value);\n  }\n\n  public decodeComponent (): this\n  {\n    return this.transform(value => isString(value) ? decodeURIComponent(value) : value);\n  }\n\n  public async run (value: any, next: Next<T>, done: Done<T>, fail: Fail<T>): Promise<void>\n  {\n    if (this.parent) \n    {\n      await this.parent.run(value, (newValue) => this.check(newValue, next, done, fail), done, fail);\n    }\n    else\n    {\n      await this.check(value, next, done, fail);\n    }\n  }\n\n  public async runAsTuple (value: any): Promise<Tuple<T>>\n  {\n    let pass = true;\n    let updated: T | undefined = undefined;\n    let result: ResultFor<T> | undefined = undefined;\n\n    await this.run(value, \n      async (nextValue)  => {\n        updated = nextValue;\n      },\n      (doneValue) => {\n        updated = doneValue;\n      },\n      (failResult) => {\n        result = failResult;\n        pass = false;\n      }\n    );\n\n    return [pass, updated, result];\n  }\n\n  public async runAsPromise (value: any): Promise<T>\n  {\n    return new Promise<T>((resolve, reject) => \n    {\n      this.run(value, async(value) => resolve(value), resolve, reject);\n    });\n  }\n  \n}","\nimport { GetMessage, Value } from './types';\n\n\nexport function isGetMessage<T> (x: any): x is GetMessage<T>\n{\n  return isFunction(x);\n}\n\nexport function resolve<T> (value: Value<T>): T\n{\n  return isFunction(value) ? value() : value;\n}\n\nexport function trimIfString (x: any): any\n{\n  return isString(x) ? x.trim() : x;\n}\n\nexport function isString (x: any): x is string\n{\n  return typeof x === 'string';\n}\n\nexport function isEmpty (x: any): boolean\n{\n  return isString(x) \n    ? x.trim().length === 0 \n    : (x !== undefined && x !== null);\n}\n\nexport function isPlainObject (x: any): boolean\n{\n  return x !== null && !Array.isArray(x) && typeof x === 'object';\n}\n\nexport function isFunction (x: any): x is Function\n{\n  return typeof x === 'function';\n}\n\nexport function toArray<T> (x: T | T[]): T[]\n{\n  return Array.isArray(x) ? x : (isEmpty(x) ? [] : [x]);\n}\n","\nimport { Validator } from '../Validator';\nimport { isPlainObject } from '../functions';\nimport { ResultObject, ResultFor } from '../types';\n\n\nexport type ValidatorMap<T> = \n{\n  [P in keyof T]?: Validator<T[P]> \n};\n\nexport function obj<T extends object = any> (): ValidatorObject<T>\n{\n  return new ValidatorObject<T>(async (value, next) => next(value));\n}\n\nexport class ValidatorObject<T extends object> extends Validator<T>\n{\n  \n  protected parse (value: any): any\n  {\n    return value;\n  }\n\n  protected isValid(parsed: any, value: any): parsed is T\n  {\n    return isPlainObject(parsed);\n  }\n\n  protected getComparator (a: T, b: T): number\n  {\n    // a > b\n    for (let prop in a) \n    {\n      if (!(prop in b)) \n      {\n        return 1;\n      }\n    }\n\n    // a < b\n    for (let prop in b) \n    {\n      if (!(prop in a)) \n      {\n        return -1;\n      }\n    }\n    \n    // a = b\n    return 0;\n  }\n\n  public props (props: ValidatorMap<T>): this\n  {\n    return this.validate(async function (value, next, done, fail) \n    {\n      const result: ResultObject<T> = {};\n      let valid = true;\n\n      for (let prop in props) \n      {\n        const validator = props[prop];\n\n        if (!validator) \n        {\n          continue;\n        }\n\n        const [pass, updatedValue, failResult] = await validator.runAsTuple(value[prop]);\n\n        if (pass)\n        {\n          if (updatedValue !== undefined) \n          {\n            value[prop] = updatedValue;\n          } \n          else \n          {\n            delete value[prop];\n          }\n        }\n        else\n        {\n          result[prop] = failResult;\n          valid = false;\n        }\n      }\n\n      if (valid) \n      {\n        await next(value);\n      } \n      else \n      {\n        fail(result as ResultFor<T>);\n      }\n    });\n  }\n\n  public instanceOf (type: new (...args: any[]) => T): this\n  {\n    return this.is(value => value instanceof type).message('instanceOf');\n  }\n\n  public wrap<O extends object = T> (type: new (value: T) => O): ValidatorObject<O>\n  {\n    return this.transform(value => new type(value));\n  }\n\n}","\nimport { Validator } from '../Validator'\nimport { trimIfString } from '../functions';\n\n\nexport function int<N extends number = number>(): ValidatorNumber<N>\n{\n  return new ValidatorNumber<N>(async (value, next) => next(value)).withParser(parseInt);\n}\n\nexport function float<N extends number = number>(): ValidatorNumber<N>\n{\n  return new ValidatorNumber<N>(async (value, next) => next(value)).withParser(parseFloat);\n}\n\nexport class ValidatorNumber<N extends number = number> extends Validator<N>\n{\n  \n  public parser: (value: any) => number = parseFloat;\n\n  protected parse (value: any): any\n  {\n    return this.parser(trimIfString(value));\n  }\n\n  protected isValid (parsed: any, value: any): parsed is N\n  {\n    return isFinite(parsed);\n  }\n\n  protected getComparator (a: number, b: number): number\n  {\n    return a - b;\n  }\n\n  public withParser(parser: (value: any) => number): this\n  {\n    this.parser = parser;\n\n    return this;\n  }\n\n  public isPositive (): this\n  {\n    return this.is(value => value >= 0).message('isPositive');\n  }\n\n  public isNegative (): this\n  {\n    return this.is(value => value < 0).message('isNegative');\n  }\n  \n  public floor (): this\n  {\n    return this.transform(value => Math.floor(value));\n  }\n  \n  public abs (): this\n  {\n    return this.transform(value => Math.abs(value));\n  }\n  \n  public neg (): this\n  {\n    return this.transform(value => -value);\n  }\n\n  public ceil (): this\n  {\n    return this.transform(value => Math.ceil(value));\n  }\n\n  public round (): this\n  {\n    return this.transform(value => Math.round(value));\n  }\n\n}","\nexport * from './types';\nexport * from './functions';\n\nexport * from './Validator';\nexport * from './validators/Any';\nexport * from './validators/Array';\nexport * from './validators/Boolean';\nexport * from './validators/Date';\nexport * from './validators/Number';\nexport * from './validators/Object';\nexport * from './validators/String';\n\nexport * from './custom/geo';\nexport * from './custom/express';","\nimport { Validator } from '../Validator';\n\n\nexport function any(): ValidatorAny\n{\n  return new ValidatorAny(async (value, next) => next(value));\n}\n\nexport class ValidatorAny extends Validator<any>\n{\n\n  protected parse (value: any): any\n  {\n    return value;\n  }\n\n  protected isValid(parsed: any, value: any): parsed is any\n  {\n    return parsed !== undefined;\n  }\n\n  protected getComparator (a: any, b: any): number\n  {\n    return 0;\n  }\n  \n}\n","\nimport { Validator } from '../Validator';\nimport { toArray, isEmpty, resolve } from '../functions';\nimport { Comparator, Value } from '../types';\n\n\nexport function arr<T = any> (): ValidatorArray<T>\n{\n  return new ValidatorArray<T>(async (value, next) => next(value));\n}\n\nexport class ValidatorArray<T> extends Validator<T[]>\n{\n\n  private typeValidator?: Validator<T>;\n\n  protected parse (value: any): any\n  {\n    return isEmpty(value) ? value : toArray(value);\n  }\n\n  protected isValid (parsed: any, value: any): parsed is T[]\n  {\n    return Array.isArray(parsed);\n  }\n\n  protected getComparator (a: T[], b: T[]): number\n  { \n    const d = a.length - b.length;\n\n    if (d !== 0) \n    {\n      return d;\n    }\n    \n    const comparator = this.getTypeComparator();\n\n    if (!comparator) \n    { \n      throw 'Cannot compare arrays before a type with a comparator is specified';\n    }\n\n    for (let i = 0; i < a.length; i++) \n    {\n      const r = comparator(a[i], b[i]);\n\n      if (r !== 0) \n      {\n        return r;\n      }\n    }\n    \n    return 0;\n  }\n\n  public getTypeValidator (): Validator<T> | undefined\n  {\n    if (this.typeValidator) \n    {\n      return this.typeValidator;\n    }\n\n    if (this.parent && this.parent.getTypeValidator) \n    {\n      return this.parent.getTypeValidator();\n    }\n  }\n\n  public getTypeComparator (): Comparator<T> | undefined\n  {\n    const validator = this.getTypeValidator();\n\n    if (validator) \n    {\n      return validator.comparator;\n    }\n  }\n\n  public type (type: Validator<T>, removeAndIgnoreInvalid: boolean = false): this\n  {\n    return this.types([type], false, removeAndIgnoreInvalid);\n  }\n\n  public types (types: Validator<T>[], requireDivisibleAmount: boolean = true, removeAndIgnoreInvalid: boolean = false): this\n  {\n    type V = this;\n\n    return this.validate(async function (this: V, value, next, done, fail) \n    {\n      this.typeValidator = types.length === 1 ? types[0] : undefined;\n\n      if (requireDivisibleAmount && value.length % types.length !== 0)\n      {\n        return fail(this.getMessage(value));\n      }\n\n      const result: any[] = [];\n      const newValue: any[] = value.slice();\n      let removing: number[] = [];\n      let valid: boolean = true;\n\n      for (let i = 0; i < value.length; i++) \n      {\n        const [pass, updatedValue, failResult] = await types[i % types.length].runAsTuple(value[i]);\n\n        if (pass) \n        {\n          newValue[i] = updatedValue;\n        } \n        else \n        {\n          if (removeAndIgnoreInvalid) \n          {\n            removing.push(i);\n          } \n          else \n          {\n            result[i] = failResult;\n            valid = false;\n          }\n        }\n      }\n\n      if (valid) \n      {\n        if (removing.length > 0) \n        {\n          for (let i = removing.length - 1; i >= 0; i--) \n          {\n            newValue.splice(removing[i], 1);\n          }\n        }\n\n        await next(newValue);\n      } \n      else \n      {\n        fail(result);\n      }\n    });\n  }\n\n  public minLength (min: Value<number>): this\n  {\n    return this.is(value => value.length >= resolve(min)).message('minLength');\n  }\n\n  public maxLength (max: Value<number>): this\n  {\n    return this.is(value => value.length <= resolve(max)).message('maxLength');\n  }\n\n  public every (every: (item: T, index: number, all: T[]) => boolean): this\n  {\n    return this.is(value => value.every(every)).message('every');\n  }\n\n  public some (some: (item: T, index: number, all: T[]) => boolean): this\n  {\n    return this.is(value => value.some(some)).message('some');\n  }\n\n  public reverse (): this\n  {\n    return this.transform(value => value.slice().reverse());\n  }\n\n  public filter (filter: (item: T, index: number, all: T[]) => boolean): this\n  {\n    return this.transform(value => value.filter(filter));\n  }\n\n  public sort (sorter?: Comparator<T>): this\n  {\n    type V = this;\n\n    return this.transform(function(this: V, value) \n    {\n      if (!sorter)\n      {\n        sorter = this.getTypeComparator();\n      }\n\n      return value.slice().sort(sorter)\n    });\n  }\n\n  public map<M> (mapper: (item: T) => M): ValidatorArray<M>\n  {\n    return this.transform<M[], ValidatorArray<M>>(value => value.map(mapper));\n  }\n\n  public unique (comparator?: Comparator<T>): this\n  {\n    type V = this;\n\n    return this.is(function(this: V, value) \n    {\n      if (!comparator && !(comparator = this.getTypeComparator())) \n      {\n        throw 'Cannot ensure unique values when a type or comparator has not been specified';\n      }\n\n      for (let i = 0; i < value.length - 1; i++) \n      {\n        for (let k = 1; k < value.length; k++) \n        {\n          if (comparator(value[i], value[k]) === 0) \n          {\n            return false;\n          }\n        }\n      }\n\n      return true;\n\n    }).message('unique');\n  }\n\n  public removeDuplicates (comparator?: Comparator<T>): this\n  {\n    type V = this;\n\n    return this.transform(function (this: V, value) \n    {\n      if (!comparator && !(comparator = this.getTypeComparator())) \n      {\n        throw 'Cannot remove duplicate values when a type or comparator has not been specified';\n      }\n\n      const newValue = value.slice();\n\n      for (let i = 0; i < newValue.length - 1; i++) \n      {\n        for (let k = i + 1; k < newValue.length; k++) \n        {\n          if (comparator(newValue[i], newValue[k]) === 0) \n          {\n            newValue.splice(k--, 1);\n          }\n        }\n      }\n\n      return newValue;\n    });\n  }\n\n}","\nimport { Validator } from '../Validator';\n\n\nexport function bool(): ValidatorBoolean\n{\n  return new ValidatorBoolean(async (value, next) => next(value));\n}\n\nexport class ValidatorBoolean extends Validator<boolean>\n{\n  \n  private truthy: RegExp = /^(true|1|yes|y)$/i;\n  private falsy: RegExp = /^(false|0|no|n)$/i;\n\n  protected parse (value: any): any\n  {\n    return this.truthy.test(value + '') \n      ? true\n      : this.falsy.test(value + '')\n        ? false\n        : value\n    ;\n  }\n\n  protected isValid (parsed: any, value: any): parsed is boolean\n  {\n    return typeof parsed === 'boolean';\n  }\n\n  protected getComparator (a: boolean, b: boolean): number\n  {\n    return (a ? 1 : 0) - (b ? 1 : 0);\n  }\n\n  public withTruthy (truthy: RegExp): this\n  {\n    this.truthy = truthy;\n    \n    return this;\n  }\n\n  public withFalsy (falsy: RegExp): this\n  {\n    this.falsy = falsy;\n\n    return this;\n  }\n\n}\n","\nimport { Validator } from '../Validator';\nimport { Value } from '../types';\nimport { resolve } from '../functions';\nimport { ValidatorNumber } from './Number';\n\n\nexport function date(): ValidatorDate\n{\n  return new ValidatorDate(async (value, next) => next(value));\n}\n\nexport class ValidatorDate extends Validator<Date>\n{\n\n  protected parse (value: any): any\n  {\n    return new Date(value);\n  }\n\n  protected isValid (parsed: any, value: any): parsed is Date\n  {\n    return parsed instanceof Date && isFinite(parsed.getTime());\n  }\n\n  protected getComparator (a: Date, b: Date): number\n  {\n    return a.getTime() - b.getTime();\n  }\n\n  public isWeekday (weekdays: Value<number[]>): this\n  {\n    return this.is(value => resolve(weekdays).indexOf(value.getDay()) !== -1).message('isWeekday');\n  }\n\n  public isDayOfMonth (dayOfMonths: Value<number[]>): this\n  {\n    return this.is(value => resolve(dayOfMonths).indexOf(value.getDate()) !== -1).message('isDayOfMonth');\n  }\n\n  public isMonth (months: Value<number[]>): this\n  {\n    return this.is(value => resolve(months).indexOf(value.getMonth()) !== -1).message('isMonth');\n  }\n\n  public endOfDay (): this\n  {\n    return this.transform(value => \n    {\n      value.setHours(23, 59, 59, 999);\n      return value;\n    });\n  }\n\n  public startOfDay (): this\n  {\n    return this.transform(value => \n    {\n      value.setHours(0, 0, 0, 0);\n      return value;\n    });\n  }\n\n  public endOfWeek (): this\n  {\n    return this.transform(value => \n    {\n      value.setDate(value.getDate() + (6 - value.getDay()));\n      return value;\n    });\n  }\n\n  public startOfWeek (): this\n  {\n    return this.transform(value => \n    {\n      value.setDate(value.getDate() - value.getDay());\n      return value;\n    });\n  }\n\n  public endOfMonth (): this\n  {\n    return this.transform(value => \n    {\n      value.setMonth(value.getMonth() + 1, 0);\n      return value;\n    });\n  }\n\n  public startOfMonth (): this\n  {\n    return this.transform(value => \n    {\n      value.setDate(1);\n      return value;\n    });\n  }\n\n  public endOfYear (): this\n  {\n    return this.transform(value => \n    {\n      value.setMonth(12, 0);\n      return value;\n    });\n  }\n\n  public startOfYear (): this\n  {\n    return this.transform(value => \n    {\n      value.setMonth(0, 1);\n      return value;\n    });\n  }\n\n  public getTime (): ValidatorNumber\n  {\n    return this.transform<number, ValidatorNumber>(value => value.getTime());\n  }\n\n}\n","\nimport { isString, resolve } from '../functions';\nimport { Validator } from '../Validator';\nimport { Value } from '../types';\n\n\nexport function str<S extends string = string>(): ValidatorString<S>\n{\n  return new ValidatorString<S>(async (value, next) => next(value));\n}\n\nexport class ValidatorString<S extends string = string> extends Validator<S>\n{\n\n  protected parse (value: any): any\n  {\n    return value === undefined || value === null ? value : (value + '');\n  }\n\n  protected isValid (parsed: any, value: any): parsed is S\n  {\n    return isString(parsed);\n  }\n\n  protected getComparator (a: string, b: string): number\n  {\n    return a.localeCompare(b);\n  }\n\n  public insensitive (): this\n  {\n    return this.withComparator((a, b) => a.toLowerCase().localeCompare(b.toLowerCase()));\n  }\n\n  public exists (): this\n  {\n    return this.is(value => value.length > 0).message('exists');\n  }\n\n  public isLower (): this\n  {\n    return this.is(value => value.toLowerCase() === value).message('isLower');\n  }\n\n  public isUpper (): this\n  {\n    return this.is(value => value.toUpperCase() === value).message('isUpper');\n  }\n\n  public like (pattern: Value<RegExp>): this\n  {\n    return this.is(value => resolve(pattern).test(value)).message('like');\n  }\n\n  public unlike (pattern: Value<RegExp>): this\n  {\n    return this.is(value => !resolve(pattern).test(value)).message('unlike');\n  }\n\n  public minLength (min: Value<number>): this\n  {\n    return this.is(value => value.length >= resolve(min)).message('minLength');\n  }\n\n  public maxLength (max: Value<number>): this\n  {\n    return this.is(value => value.length <= resolve(max)).message('maxLength');\n  }\n  \n  public colorHex (allowHash: boolean = true, requireHash: boolean = false): this\n  {\n    return this.like(allowHash\n      ? requireHash \n        ? /^#[0-9a-f]{6}$/i\n        : /^#?[0-9a-f]{6}$/i\n      : /^[0-9a-f]{6}$/i\n    ).message('colorHex');\n  }\n\n  public colorShortHex (allowHash: boolean = true, requireHash: boolean = false): this\n  {\n    return this.like(allowHash\n      ? requireHash \n        ? /^#[0-9a-f]{3}$/i\n        : /^#?[0-9a-f]{3}$/i\n      : /^[0-9a-f]{3}$/i\n    ).message('colorShortHex');\n  }\n\n  public colorRGB (percent: boolean = false): this\n  {\n    return this.like(percent\n      ? /^rgb\\s*\\(\\s*(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|\\d\\s*%|[1-9]\\d\\s*%|100\\s*%)\\s*,\\s*(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|\\d\\s*%|[1-9]\\d\\s*%|100\\s*%)\\s*,\\s*(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|\\d\\s*%|[1-9]\\d\\s*%|100\\s*%)\\s*\\)$/i\n      : /^rgb\\s*\\(\\s*(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\s*,\\s*(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\s*,\\s*(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\s*\\)$/i\n    ).message('colorRGB');\n  }\n\n  public colorRGBA (percent: boolean = false): this\n  {\n    return this.like(percent\n      ? /^rgba\\s*\\(\\s*(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|\\d\\s*%|[1-9]\\d\\s*%|100\\s*%)\\s*,\\s*(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|\\d\\s*%|[1-9]\\d\\s*%|100\\s*%)\\s*,\\s*(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|\\d\\s*%|[1-9]\\d\\s*%|100\\s*%)\\s*,\\s*[01]?\\.?\\d*\\s*\\)$/i\n      : /^rgba\\s*\\(\\s*(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\s*,\\s*(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\s*,\\s*(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\s*,\\s*[01]?\\.?\\d*\\s*\\)$/i\n    ).message('colorRGBA');\n  }\n\n  public color (percent: boolean = false, allowHash: boolean = true, requireHash: boolean = false): this\n  {\n    return this.or(v => [\n      v.colorHex(allowHash, requireHash),\n      v.colorShortHex(allowHash, requireHash),\n      v.colorRGB(percent),\n      v.colorRGBA(percent)\n    ]).message('color');\n  }\n\n  public linkless (): this\n  {\n    return this.unlike(/(\\.|dot)\\s*([a-zA-Z]{2}|aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel)/i).message('linkless');\n  }\n\n  public uuid (): this\n  {\n    return this.like(/^[0-9a-fA-F]{8}\\-[0-9a-fA-F]{4}\\-[0-9a-fA-F]{4}\\-[0-9a-fA-F]{4}\\-[0-9a-fA-F]{12}$/).message('uuid');\n  }\n\n  public ipv4 (): this\n  {\n    return this.like(/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/).message('ipv4');\n  }\n\n  public ipv6 (): this\n  {\n    return this.like(/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/).message('ipv6');\n  }\n\n  public ip (): this\n  {\n    return this.or(v => [v.ipv4(), v.ipv6()]).message('ip');\n  }\n\n  public isbn (): this\n  {\n    return this.like(/^(ISBN\\s)?(?=[-0-9xX ]{13}$)(?:[0-9]+[- ]){3}[0-9]*[xX0-9]$/).message('isbn');\n  }\n\n  public phoneUS (): this\n  {\n    return this.like(/^\\D?(\\d{3})\\D?\\D?(\\d{3})\\D?(\\d{4})$/).message('phoneUS');\n  }\n\n  public zipUS (): this\n  {\n    return this.like(/^\\d{5}$|^\\d{5}-\\d{4}$/).message('zipUS');\n  }\n\n  public alphaNumeric (): this\n  {\n    return this.like(/^[a-zA-Z0-9]*$/).message('alphaNumeric');\n  }\n\n  public alpha (): this\n  {\n    return this.like(/^[a-zA-Z]*$/).message('alpha');\n  }\n\n  public token (): this\n  {\n    return this.like(/^\\w*$/).message('token');\n  }\n\n  public hex (): this\n  {\n    return this.like(/^[0-9a-f]$/i).message('hex');\n  }\n\n  public base64 (): this\n  {\n    return this.like(/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/).message('base64');\n  }\n\n  public http (): this\n  {\n    return this.like(/http:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,4}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/).message('http');\n  }\n\n  public https (): this\n  {\n    return this.like(/https:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,4}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/).message('https');\n  }\n\n  public url (requireProtocol = false): this\n  {\n    return (requireProtocol \n      ? this.or(v => [v.http(), v.https()])\n      : this.like(/(https?:\\/\\/(?:www\\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\\.[^\\s]{2,}|www\\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\\.[^\\s]{2,}|https?:\\/\\/(?:www\\.|(?!www))[a-zA-Z0-9]+\\.[^\\s]{2,}|www\\.[a-zA-Z0-9]+\\.[^\\s]{2,})/)\n    ).message('url');\n  }\n  \n  public email (): this\n  {\n    return this.like( /^[-!#$%&'*+\\/0-9=?A-Z^_a-z{|}~](\\.?[-!#$%&'*+\\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\\.?[a-zA-Z0-9])*\\.[a-zA-Z](-?[a-zA-Z0-9])+$/).message('email');\n  }\n\n  public creditCard (): this\n  {\n    return this.like(/^(?:4[0-9]{12}(?:[0-9]{3})?|(?:5[1-5][0-9]{2}|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|6(?:011|5[0-9]{2})[0-9]{12}|(?:2131|1800|35\\d{3})\\d{11})$/).message('creditCard');\n  }\n\n  public replace (pattern: Value<RegExp>, replacement: Value<string>): this\n  {\n    return this.transform(value => value.replace(resolve(pattern), resolve(replacement)));\n  }\n\n  public truncate (maxLength: number): this\n  {\n    return this.transform(value => value.length <= maxLength ? value : value.substring(0, maxLength));\n  }\n\n  public trim (): this\n  {\n    return this.transform(value => value.trim());\n  }\n\n  public ltrim (): this\n  {\n    return this.transform(value => value.replace(/^\\s+/, ''));\n  }\n\n  public rtrim (): this\n  {\n    return this.transform(value => value.replace(/\\s+$/, ''));\n  }\n\n  public lower (): this\n  {\n    return this.transform(value => value.toLowerCase());\n  }\n\n  public upper (): this\n  {\n    return this.transform(value => value.toUpperCase());\n  }\n\n  public strip (pattern: RegExp): this\n  {\n    return this.transform(value => value.replace(pattern, ''));\n  }\n\n  public normalizeEmail (): this\n  {\n    const PLUS_ONLY = /\\+.*$/;\n    const PLUS_AND_DOT = /\\.|\\+.*$/g;\n    const normalizeableProviders: any = {\n      'gmail.com': {\n        'cut': PLUS_AND_DOT\n      },\n      'googlemail.com': {\n        'cut': PLUS_AND_DOT,\n        'aliasOf': 'gmail.com'\n      },\n      'hotmail.com': {\n        'cut': PLUS_ONLY\n      },\n      'live.com': {\n        'cut': PLUS_AND_DOT\n      },\n      'outlook.com': {\n        'cut': PLUS_ONLY\n      }\n    };\n\n    return this.transform(value => \n    {\n      var email = value.toLowerCase();\n      var emailParts = email.split(/@/);\n\n      if (emailParts.length !== 2) {\n        return value;\n      }\n\n      var username = emailParts[0];\n      var domain = emailParts[1];\n\n      if (normalizeableProviders[domain]) {\n        if (normalizeableProviders[domain]['cut']) {\n          username = username.replace(normalizeableProviders[domain].cut, '');\n        }\n        if (normalizeableProviders[domain]['aliasOf']) {\n          domain = normalizeableProviders[domain].aliasOf;\n        }\n      }\n\n      return username + '@' + domain;\n    });\n  }\n\n}","\nimport { Value } from '../types';\nimport { ValidatorObject, obj } from '../validators/Object';\nimport { float } from '../validators/Number';\n\n\nexport type GeoInput = {\n  latitude: number;\n  longitude: number;\n};\n\nexport type GeoOutput = {\n  type: 'Point',\n  coordinates: [number, number]\n};\n\nexport function geo(required: Value<boolean>): ValidatorObject<GeoOutput>\n{\n  return obj<GeoInput>().decodeComponent().json().eval(required).props({\n    latitude: float()\n      .required().message('Latitude is required')\n      .between(-90, 90).message(v => `Latitude must be between -90 and 90 degrees: ${v}`),\n    longitude: float()\n      .required().message('Longitude is required')\n      .between(-180, 180).message(v => `Longitude must be between -180 and 180 degrees: ${v}`)\n  }).transform(({latitude, longitude}) => ({\n    type: 'Point',\n    coordinates: [longitude, latitude]\n  }));\n}\n","\nimport { obj, ValidatorMap } from '../validators/Object';\nimport { ResultFor } from '../types';\n\nexport function getRouteHandler<Request, Response> (source: keyof Request, onFailure: (result: ResultFor<object>, request: Request, response: Response, next: () => void) => void)\n{\n  return function<T extends object = any> (validators: ValidatorMap<T>)\n  {\n    const validator = obj<T>().json().required().props(validators);\n\n    return async (request: Request, response: Response, next: () => void) =>\n    {\n      const [pass, result, failures] = await validator.runAsTuple(request[source]);\n      \n      if (!pass && failures !== undefined)\n      {\n        onFailure(failures, request, response, next);\n      }\n      else\n      {\n        next();\n      }\n    };\n  }\n}\n"],"sourceRoot":""}